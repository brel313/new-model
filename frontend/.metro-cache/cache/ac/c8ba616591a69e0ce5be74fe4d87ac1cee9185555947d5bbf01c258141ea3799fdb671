{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.FileSystemWritableSink = exports.FileSystemReadableStreamSource = void 0;\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var FileSystemReadableStreamSource = exports.FileSystemReadableStreamSource = /*#__PURE__*/function () {\n    function FileSystemReadableStreamSource(handle) {\n      (0, _classCallCheck2.default)(this, FileSystemReadableStreamSource);\n      this.size = 1024;\n      this.type = 'bytes';\n      this.handle = handle;\n    }\n    return (0, _createClass2.default)(FileSystemReadableStreamSource, [{\n      key: \"cancel\",\n      value: function cancel() {\n        this.handle.close();\n      }\n    }, {\n      key: \"pull\",\n      value: function pull(controller) {\n        var theView = controller.byobRequest?.view;\n        if (!theView) {\n          var _bytes = this.handle.readBytes(this.size);\n          if (_bytes.length === 0) {\n            controller.close();\n            return;\n          }\n          controller.enqueue(_bytes);\n          return;\n        }\n\n        // TODO: Optimize by adding a native method that can write into a TypedArray at a given offset.\n        var bytes = this.handle.readBytes(theView.byteLength - theView.byteOffset);\n        if (bytes.length === 0) {\n          controller.close();\n          controller.byobRequest.respond(0);\n          return;\n        }\n        if (theView instanceof Uint8Array) {\n          theView.set(bytes, theView.byteOffset);\n        } else {\n          var array = new Uint8Array(theView.buffer);\n          for (var i = 0; i < bytes.length; i++) {\n            array[i + (theView.byteOffset ?? 0)] = bytes[i];\n          }\n        }\n        controller.byobRequest.respond(bytes.length);\n      }\n    }]);\n  }();\n  var FileSystemWritableSink = exports.FileSystemWritableSink = /*#__PURE__*/function () {\n    function FileSystemWritableSink(handle) {\n      (0, _classCallCheck2.default)(this, FileSystemWritableSink);\n      this.handle = handle;\n    }\n    return (0, _createClass2.default)(FileSystemWritableSink, [{\n      key: \"abort\",\n      value: function abort() {\n        this.close();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        this.handle.close();\n      }\n    }, {\n      key: \"write\",\n      value: function write(chunk) {\n        this.handle.writeBytes(chunk);\n      }\n    }]);\n  }();\n});","lineCount":76,"map":[[9,6,3,13,"FileSystemReadableStreamSource"],[9,36,3,43],[9,39,3,43,"exports"],[9,46,3,43],[9,47,3,43,"FileSystemReadableStreamSource"],[9,77,3,43],[10,4,8,2],[10,13,8,2,"FileSystemReadableStreamSource"],[10,44,8,14,"handle"],[10,50,8,32],[10,52,8,34],[11,6,8,34],[11,10,8,34,"_classCallCheck2"],[11,26,8,34],[11,27,8,34,"default"],[11,34,8,34],[11,42,8,34,"FileSystemReadableStreamSource"],[11,72,8,34],[12,6,8,34],[12,11,5,2,"size"],[12,15,5,6],[12,18,5,17],[12,22,5,21],[13,6,5,21],[13,11,6,2,"type"],[13,15,6,6],[13,18,6,9],[13,25,6,16],[14,6,9,4],[14,10,9,8],[14,11,9,9,"handle"],[14,17,9,15],[14,20,9,18,"handle"],[14,26,9,24],[15,4,10,2],[16,4,10,3],[16,15,10,3,"_createClass2"],[16,28,10,3],[16,29,10,3,"default"],[16,36,10,3],[16,38,10,3,"FileSystemReadableStreamSource"],[16,68,10,3],[17,6,10,3,"key"],[17,9,10,3],[18,6,10,3,"value"],[18,11,10,3],[18,13,12,2],[18,22,12,2,"cancel"],[18,28,12,8,"cancel"],[18,29,12,8],[18,31,12,11],[19,8,13,4],[19,12,13,8],[19,13,13,9,"handle"],[19,19,13,15],[19,20,13,16,"close"],[19,25,13,21],[19,26,13,22],[19,27,13,23],[20,6,14,2],[21,4,14,3],[22,6,14,3,"key"],[22,9,14,3],[23,6,14,3,"value"],[23,11,14,3],[23,13,16,2],[23,22,16,2,"pull"],[23,26,16,6,"pull"],[23,27,16,7,"controller"],[23,37,16,47],[23,39,16,49],[24,8,17,4],[24,12,17,10,"theView"],[24,19,17,17],[24,22,17,20,"controller"],[24,32,17,30],[24,33,17,31,"byobRequest"],[24,44,17,42],[24,46,17,44,"view"],[24,50,17,48],[25,8,18,4],[25,12,18,8],[25,13,18,9,"theView"],[25,20,18,16],[25,22,18,18],[26,10,19,6],[26,14,19,12,"bytes"],[26,20,19,17],[26,23,19,20],[26,27,19,24],[26,28,19,25,"handle"],[26,34,19,31],[26,35,19,32,"readBytes"],[26,44,19,41],[26,45,19,42],[26,49,19,46],[26,50,19,47,"size"],[26,54,19,51],[26,55,19,52],[27,10,20,6],[27,14,20,10,"bytes"],[27,20,20,15],[27,21,20,16,"length"],[27,27,20,22],[27,32,20,27],[27,33,20,28],[27,35,20,30],[28,12,21,8,"controller"],[28,22,21,18],[28,23,21,19,"close"],[28,28,21,24],[28,29,21,25],[28,30,21,26],[29,12,22,8],[30,10,23,6],[31,10,24,6,"controller"],[31,20,24,16],[31,21,24,17,"enqueue"],[31,28,24,24],[31,29,24,25,"bytes"],[31,35,24,30],[31,36,24,31],[32,10,25,6],[33,8,26,4],[35,8,28,4],[36,8,29,4],[36,12,29,10,"bytes"],[36,17,29,15],[36,20,29,18],[36,24,29,22],[36,25,29,23,"handle"],[36,31,29,29],[36,32,29,30,"readBytes"],[36,41,29,39],[36,42,29,40,"theView"],[36,49,29,47],[36,50,29,48,"byteLength"],[36,60,29,58],[36,63,29,61,"theView"],[36,70,29,68],[36,71,29,69,"byteOffset"],[36,81,29,79],[36,82,29,80],[37,8,30,4],[37,12,30,8,"bytes"],[37,17,30,13],[37,18,30,14,"length"],[37,24,30,20],[37,29,30,25],[37,30,30,26],[37,32,30,28],[38,10,31,6,"controller"],[38,20,31,16],[38,21,31,17,"close"],[38,26,31,22],[38,27,31,23],[38,28,31,24],[39,10,32,6,"controller"],[39,20,32,16],[39,21,32,17,"byobRequest"],[39,32,32,28],[39,33,32,29,"respond"],[39,40,32,36],[39,41,32,37],[39,42,32,38],[39,43,32,39],[40,10,33,6],[41,8,34,4],[42,8,35,4],[42,12,35,8,"theView"],[42,19,35,15],[42,31,35,27,"Uint8Array"],[42,41,35,37],[42,43,35,39],[43,10,36,6,"theView"],[43,17,36,13],[43,18,36,14,"set"],[43,21,36,17],[43,22,36,18,"bytes"],[43,27,36,23],[43,29,36,25,"theView"],[43,36,36,32],[43,37,36,33,"byteOffset"],[43,47,36,43],[43,48,36,44],[44,8,37,4],[44,9,37,5],[44,15,37,11],[45,10,38,6],[45,14,38,12,"array"],[45,19,38,17],[45,22,38,20],[45,26,38,24,"Uint8Array"],[45,36,38,34],[45,37,38,35,"theView"],[45,44,38,42],[45,45,38,43,"buffer"],[45,51,38,49],[45,52,38,50],[46,10,39,6],[46,15,39,11],[46,19,39,15,"i"],[46,20,39,16],[46,23,39,19],[46,24,39,20],[46,26,39,22,"i"],[46,27,39,23],[46,30,39,26,"bytes"],[46,35,39,31],[46,36,39,32,"length"],[46,42,39,38],[46,44,39,40,"i"],[46,45,39,41],[46,47,39,43],[46,49,39,45],[47,12,40,8,"array"],[47,17,40,13],[47,18,40,14,"i"],[47,19,40,15],[47,23,40,19,"theView"],[47,30,40,26],[47,31,40,27,"byteOffset"],[47,41,40,37],[47,45,40,41],[47,46,40,42],[47,47,40,43],[47,48,40,44],[47,51,40,47,"bytes"],[47,56,40,52],[47,57,40,53,"i"],[47,58,40,54],[47,59,40,56],[48,10,41,6],[49,8,42,4],[50,8,43,4,"controller"],[50,18,43,14],[50,19,43,15,"byobRequest"],[50,30,43,26],[50,31,43,27,"respond"],[50,38,43,34],[50,39,43,35,"bytes"],[50,44,43,40],[50,45,43,41,"length"],[50,51,43,47],[50,52,43,48],[51,6,44,2],[52,4,44,3],[53,2,44,3],[54,2,44,3],[54,6,47,13,"FileSystemWritableSink"],[54,28,47,35],[54,31,47,35,"exports"],[54,38,47,35],[54,39,47,35,"FileSystemWritableSink"],[54,61,47,35],[55,4,50,2],[55,13,50,2,"FileSystemWritableSink"],[55,36,50,14,"handle"],[55,42,50,32],[55,44,50,34],[56,6,50,34],[56,10,50,34,"_classCallCheck2"],[56,26,50,34],[56,27,50,34,"default"],[56,34,50,34],[56,42,50,34,"FileSystemWritableSink"],[56,64,50,34],[57,6,51,4],[57,10,51,8],[57,11,51,9,"handle"],[57,17,51,15],[57,20,51,18,"handle"],[57,26,51,24],[58,4,52,2],[59,4,52,3],[59,15,52,3,"_createClass2"],[59,28,52,3],[59,29,52,3,"default"],[59,36,52,3],[59,38,52,3,"FileSystemWritableSink"],[59,60,52,3],[60,6,52,3,"key"],[60,9,52,3],[61,6,52,3,"value"],[61,11,52,3],[61,13,54,2],[61,22,54,2,"abort"],[61,27,54,7,"abort"],[61,28,54,7],[61,30,54,10],[62,8,55,4],[62,12,55,8],[62,13,55,9,"close"],[62,18,55,14],[62,19,55,15],[62,20,55,16],[63,6,56,2],[64,4,56,3],[65,6,56,3,"key"],[65,9,56,3],[66,6,56,3,"value"],[66,11,56,3],[66,13,58,2],[66,22,58,2,"close"],[66,27,58,7,"close"],[66,28,58,7],[66,30,58,10],[67,8,59,4],[67,12,59,8],[67,13,59,9,"handle"],[67,19,59,15],[67,20,59,16,"close"],[67,25,59,21],[67,26,59,22],[67,27,59,23],[68,6,60,2],[69,4,60,3],[70,6,60,3,"key"],[70,9,60,3],[71,6,60,3,"value"],[71,11,60,3],[71,13,62,2],[71,22,62,2,"write"],[71,27,62,7,"write"],[71,28,62,8,"chunk"],[71,33,62,25],[71,35,62,27],[72,8,63,4],[72,12,63,8],[72,13,63,9,"handle"],[72,19,63,15],[72,20,63,16,"writeBytes"],[72,30,63,26],[72,31,63,27,"chunk"],[72,36,63,32],[72,37,63,33],[73,6,64,2],[74,4,64,3],[75,2,64,3],[76,0,64,3],[76,3]],"functionMap":{"names":["<global>","FileSystemReadableStreamSource","FileSystemReadableStreamSource#constructor","FileSystemReadableStreamSource#cancel","FileSystemReadableStreamSource#pull","FileSystemWritableSink","FileSystemWritableSink#constructor","FileSystemWritableSink#abort","FileSystemWritableSink#close","FileSystemWritableSink#write"],"mappings":"AAA;OCE;ECK;GDE;EEE;GFE;EGE;GH4B;CDC;OKE;ECG;GDE;EEE;GFE;EGE;GHE;EIE;GJE;CLC"}},"type":"js/module"}]}